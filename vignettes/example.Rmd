---
title: "example"
author: "Colin Smith"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{example}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

Here we demonstrate use of the EMLassemblyline R code package to create EML for the Global Lakes Ecological Observatory Network (GLEON) Lake Chloride dataset. This data package has been curated with the Environmental Data Initiative (EDI) and is publicly accessible through the EDI data portal of the PASTA repository [here](https://portal.edirepository.org/nis/mapbrowse?scope=edi&identifier=8).

## Install EMLassemblyline

Until this code is apart of CRAN, you will need to install the EMLassemblyline with the devtools package.

```{r eval = FALSE}
install.packages("devtools")
library(devtools)
install_github("EDIorg/EMLassemblyline")
```

## Compile data

The GLEON Lake Chloride has been compiled into 3 entities. Two tables: gleon_chloride_concentrations.csv (a file containing long term chloride concentration data from 529 lakes and reservoirs around North America and Europe), gleon_chloride_lake_characteristics (a file containing lake characteristics, including climate, road density, and impervious surface data) and one zip directory: gleon_chloride_lake_shape_files.zip (Shapefiles that geographically delimited the perimeter of the lakes were required to quantify surrounding land use patterns). We will not cover creating EML for the spatial data in this demonstration.

## Create a dataset working directory

Create a working directory for the dataset and name it using underscore characters "_" to span spaces between words (e.g. gleon_chloride). This directory stores metadata parts created in the assembly line and should be semi-permanent. These files will need to be edited in the event the dataset changes and/or the EML needs revision.

![](C:/Users/Colin/Documents/EDI/figures/dataset_working_directory.png)

## Move data to the working directory

Move the data tables to the dataset working directory and name them following the convention "datasetname_datatablename", where datasetname is the name of the dataset (e.g. gleon_chloride), and datatablename is the name of the data table (e.g. lake_characteristics). In this example, the data table names become "gleon_chloride_concentrations.csv" and "gleon_chloride_lake_characteristics.csv".

![](C:/Users/Colin/Documents/EDI/figures/move_data.png)

## Import metadata templates

Import metadata templates to the dataset working directory. These metadata templates form the core of the metadata that will be later translated into EML. To import these templates run the import_templates.R function with a path to the working directory.

```{r eval = FALSE}
import_templates(path = "C:\\Users\\Colin\\Desktop\\gleon_chloride")
```


![](C:/Users/Colin/Documents/EDI/figures/move_data.png)

For more information about the import_templates.R function run:

```{r eval = FALSE}
?import_templates
```












